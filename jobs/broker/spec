---
name: broker
packages: [patroni-broker]
templates:
  bin/ctl: bin/ctl
  bin/monit_debugger: bin/monit_debugger
  bin/backup_provisioned_service: bin/backup_provisioned_service
  config/broker.yml.erb: config/broker.yml
  data/properties.sh.erb: data/properties.sh
  helpers/ctl_setup.sh: helpers/ctl_setup.sh
  helpers/ctl_utils.sh: helpers/ctl_utils.sh
properties:
  etcd.machines:
    description: hostnames for etcd servers

  servicebroker.username:
    description: Basic auth username for broker
    default: starkandwayne
  servicebroker.password:
    description: Basic auth password for broker
    default: starkandwayne

  servicebroker.port:
    description: Bind port for inbound API requests
    default: 8889

  servicebroker.router.hostname:
    description: "Hostname to advertise in binding credentials for routers"

  servicebroker.backends.machines:
    description: "Hash of {z1: backend broker hostnames:port (NOTE: also becomes permanent GUID at the moment)}"
  servicebroker.backends.username:
    description: basic auth username to access each HTTP cf-container-broker backend
    default: containers
  servicebroker.backends.password:
    description: basic auth password to access each HTTP cf-container-broker backend
    default: containers

  servicebroker.services:
    description: The CF service broker catalog of services/plans
